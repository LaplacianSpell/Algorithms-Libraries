# Heap

## OJ-01

### 题目描述

琦琦有很多颗彩虹糖，每一颗彩虹糖有一个美味度（是不超过 $10^9$ 的非负整数）和一个正整数编号。不同的彩虹糖的编号一定不同，但可能有相同的美味度。

琦琦有一个大大的袋子，用来存放彩虹糖，初始时袋子为空。

琦琦每次会选择以下操作之一进行：

1. 琦琦买了一颗新的彩虹糖，并将其放到袋子中。
2. 琦琦从袋子中拿出其中最美味的彩虹糖。
3. 琦琦重新评价了某颗糖的美味程度，并将其放到袋子中（如果它当前不在袋子中）。

每次操作后，琦琦需要知道袋子中最美味的糖的美味度。琦琦还要忙着去吃乔乔的棒棒糖，这么简单的任务当然就交给你来完成啦！

### 输入格式

从标准输入读入数据。

第一行输入一个整数 mm，表示操作的总数。

接下来 mm 行，每行若干个整数，表示一个操作。

每行第 1 个整数表示这次进行的是第几种操作，每种操作格式如下：

1. xx：新买到了一颗美味度为 xx 的彩虹糖，将其装入袋子中，并赋予这颗糖新的编号：第 ii 次形如 1 xx 的操作对应的彩虹糖的编号为 ii。
2. 从袋子中拿出其中最美味的彩虹糖。如果在此操作之前袋子中没有糖，则此操作没有任何效果。如果有多颗糖美味程度相同，则拿出编号最小的。
3. ii xx：将编号为 ii 的彩虹糖的美味度修改为 xx。如果在此操作之前编号为 ii 的彩虹糖还没被通过操作 1 购买到，则此操作没有任何效果；如果在此操作之前，编号为 ii 的彩虹糖已经买到了而不在袋子中（因为被之前的操作 2 拿出袋子了），则将其重新放入袋子。此操作输入的 ii 满足 $1 \leq i \leq 10^9$

### 输出格式

输出到标准输出。

输出 mm 行，每行一个整数，表示每次操作后袋子中最美味的糖的美味度。

如果某次操作后袋子中没有糖，则对于此次操作输出 -1。

>评价：利用Heap存即可(我用的是pb_ds的优先队列)
>其中比较难的地方在于修改美味度的操作，我们采用的策略是懒删除法。不删除节点，而使用一个数组存储当前所有编号对应糖果的数值（编号对应下标），这个数组里面的甜度随着更新而更新，没有放入的在开始置为-1，每次取顶都与该数组比较看是否有效。因为出堆顺序只与甜度的相对大小有关。
